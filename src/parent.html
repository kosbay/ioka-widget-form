<html>
  <head>
    <title>Zoid Lesson</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
  </head>
  <body>
    <div id="zoid-component"></div>
    <button onclick="payFunction()">INIT IOKA PAYMENT</button>
    <button onclick="closeFrame()">Close Frame</button>
    <script src="./dist/index.js"></script>
    <script>
      const onError = (err) => {
        console.log("on error", err)
      }

      const onSuccess = (res) => {
        console.log("res", res)
      }

      const options = {
        onError: (err) => {
          onError(err)
        },
        onSuccess: (res) => {
          onSuccess(res)
          this.close()
        },
        widgetProps: {
          cardForm: {
            hideErrorMessages: true,
            hideEmail: true,
            hideCardContainer: true,
            hideResultMessage: true,
            buttonText: "Пополнить - ",
            title: "Пополнить счёт iDoctor.kz",
            cardNumberLabel: "",
            expireMonthLabel: "",
            expireYearLabel: "",
            cvcLabel: "",
            cardHolderLabel: ""
          },
          styles: {
            inputContainer: {
              border: "1px solid #CBCBCC",
              borderRadius: "4px",
              height: "32px"
            },
            inputs: {
              padding: "8px",
              height: "100%"
            },
            submitButton: {
              height: "32px",
              borderRadius: "4px"
            },
            buttonTextStyle: {
              fontSize: "14px"
            },
            middleContainer: {
              margin: "0"
            }
          }
        }
      }

      const IokaWidgetItem = new IokaWidget({
        src: "http://localhost:3000/forms/d1ae13fb-2a4e-49fd-8294-a1857fe00df1",
        elementId: "zoid-component",
        options,
        publicKey: ""
      })

      const payFunction = () => {
        IokaWidgetItem.initPayment()
      }
    </script>
  </body>
</html>